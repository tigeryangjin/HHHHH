DECLARE
  IN_COUNT    NUMBER(8);
  IN_LENGTH   NUMBER(2);
  IN_QUANTITY NUMBER;
  CHARS_STR   VARCHAR2(100);
  RETURN_STR  VARCHAR2(100);
  IS_EXISTS   NUMBER(1);
BEGIN
  IN_QUANTITY := POWER(26, 5); /*生成数量*/
  IN_COUNT    := 1;
  IN_LENGTH   := 5; /*字符串长度*/
  WHILE IN_COUNT <= IN_QUANTITY LOOP
    RETURN_STR := DBMS_RANDOM.STRING('u', IN_LENGTH);
    SELECT COUNT(1)
      INTO IS_EXISTS
      FROM REF_CODE_TMP A
     WHERE A.REF_CODE = RETURN_STR;
    IF IS_EXISTS = 0
    THEN
      INSERT INTO REF_CODE_TMP
        (ROW_ID, REF_CODE, W_INSERT_DT)
      VALUES
        (IN_COUNT, RETURN_STR, SYSDATE);
      COMMIT;
      IN_COUNT := IN_COUNT + 1;
    END IF;
  END LOOP;
END;
/

CREATE TABLE REF_CODE_TMP(ROW_ID NUMBER,
                          REF_CODE VARCHAR2(5),
                          W_INSERT_DT DATE);
alter table REF_CODE_TMP add constraint REF_CODE_TMP_PK primary key(REF_CODE);

DROP TABLE REF_CODE_TMP;

select * from REF_CODE_TMP t;

DELETE REF_CODE_TMP A
 WHERE A.REF_CODE LIKE '%I%'
    OR A.REF_CODE LIKE '%O%'
    OR A.REF_CODE LIKE 'I%'
    OR A.REF_CODE LIKE 'O%'
    OR A.REF_CODE LIKE '%I'
    OR A.REF_CODE LIKE '%O';
COMMIT;
