--1.
SELECT A.OBJECT_TYPE,
       A.OBJECT_NAME,
       A.OWNER,
       DBMS_METADATA.GET_DDL(A.OBJECT_TYPE, A.OBJECT_NAME, A.OWNER),
       LENGTH(DBMS_METADATA.GET_DDL(A.OBJECT_TYPE, A.OBJECT_NAME, A.OWNER))
  FROM ALL_OBJECTS A
 WHERE A.OWNER IN ('BIHAPPIGO',
                   'BI_REPORT',
                   'DW_HAPPIGO',
                   'DW_USER',
                   'ODSHAPPIGO',
                   'ORDDATA')
   AND A.OBJECT_TYPE IN ('PACKAGE', 'PROCEDURE', 'FUNCTION')
   AND A.OBJECT_NAME = 'YANGJIN_PKG';
	 
--2.
SET PAGESIZE 0
SET TRIMSPOOL ON
SET LINESIZE 10000
SET LONG 400000
SET FEEDBACK OFF
SET FEED OFF;
SET ECHO OFF
spool D:\oracleddl\10.10.204.27_bihappigo_ddl.sql
SELECT DBMS_METADATA.GET_DDL(A.OBJECT_TYPE, A.OBJECT_NAME, A.OWNER) ||
       CHR(10) || '/'
  FROM ALL_OBJECTS A
 WHERE A.OWNER IN ('BIHAPPIGO',
                   'BI_REPORT',
                   'DW_HAPPIGO',
                   'DW_USER',
                   'ODSHAPPIGO',
                   'ORDDATA')
   AND A.OBJECT_TYPE IN ('PACKAGE', 'PROCEDURE', 'FUNCTION')
   AND A.OBJECT_NAME = 'YANGJIN_PKG';
spool OFF
